(this["webpackJsonpmy-first-react"]=this["webpackJsonpmy-first-react"]||[]).push([[0],{138:function(e,t,a){e.exports=a.p+"static/media/Loading-circles-acs-rectangles.492f13cb.webp"},139:function(e,t,a){e.exports={item:"Preloader_item__1FUAg"}},140:function(e,t,a){e.exports=a.p+"static/media/work_icon.c5c5641b.svg"},141:function(e,t,a){e.exports=a.p+"static/media/no_work_icon.6a84f8e0.svg"},144:function(e,t,a){e.exports={dialogues_content:"Dialogues_dialogues_content__du7kf",item:"Dialogues_item__2fnnk"}},145:function(e,t,a){e.exports={dialogue_item:"PersonDialogue_dialogue_item__2Z1bh"}},146:function(e,t,a){e.exports={item:"CloudSend_item__3zfVR"}},173:function(e,t,a){e.exports=a(299)},257:function(e,t,a){},28:function(e,t,a){e.exports={formControl:"FormsControls_formControl__3sotC",error:"FormsControls_error__3p1eI",formSummaryError:"FormsControls_formSummaryError__3BCwQ",form_item:"FormsControls_form_item__16jZM",remember:"FormsControls_remember__gsKH-",rememberLable:"FormsControls_rememberLable__6LCTh",checkbox:"FormsControls_checkbox__3hP9m"}},299:function(e,t,a){"use strict";a.r(t);a(99),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(6),r=a(10),s=a.n(r),o=a(16),i=a(12),c=a(133).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2207a5d4-08e2-4a3b-98af-c3bbaf315c7d"}}),l={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return c.get("users?page=".concat(e,"&count=").concat(t),{}).then((function(e){return e.data}))},follow:function(e){return c.post("follow/".concat(e))},unfollow:function(e){return c.delete("follow/".concat(e))}},u=function(e){return c.get("profile/"+e)},m=function(e){return c.get("profile/status/"+e)},f=function(e){return c.put("profile/status/",{status:e})},p=function(){return c.get("auth/me")},d=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c.post("auth/login",{email:e,password:t,rememberMe:a})},g=function(){return c.delete("auth/login")},E={postData:[{id:1,message:"Hi, how are you?",likes:15},{id:2,message:"Love me",likes:10},{id:3,message:"\u042f \u0445\u043e\u0447\u0443 \u043d\u0430\u0439\u0442\u0438 \u0440\u0430\u0431\u043e\u0442\u0443",likes:14}],profile:null,status:""},h=function(e){return{type:"SET_STATUS",status:e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={id:5,message:t.newPost,likes:0};return Object.assign({},e,{postData:e.postData.concat(a),newPostText:""});case"SET_USER_PROFILE":return Object.assign({},e,{profile:t.profile});case"SET_STATUS":return Object.assign({},e,{status:t.status});case"DELETE_POST":return Object(i.a)({},e,{postData:e.postData.filter((function(e){return e.id!==t.postId}))});default:return e}},b={userArr:[{id:1,name:"Nastya"},{id:2,name:"Sergey"},{id:3,name:"Sanya"},{id:4,name:"Fedos"},{id:5,name:"Valera"}],messageArr:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"I'm fine"},{id:4,message:"Go home"},{id:5,message:"I go"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var a={id:6,message:t.newMessage};return Object.assign({},e,{messageArr:e.messageArr.concat(a)});default:return e}},O={arrayBest:[{id:1,name:"Nastya"},{id:2,name:"Sergey"},{id:3,name:"Sanya"}],allFriend:[{id:1,name:"Nastya"},{id:2,name:"Sergey"},{id:3,name:"Sanya"},{id:4,name:"Fedos"},{id:5,name:"Valera"},{id:6,name:"Marina"},{id:7,name:"Vasya"},{id:8,name:"Ira"},{id:9,name:"Inna"},{id:10,name:"Kirill"}]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;arguments.length>1&&arguments[1];return e},S=a(147),N=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(i.a)({},e,{},n):e}))},P={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},j=function(e){return{type:"FOLLOW",userId:e}},y=function(e){return{type:"UNFOLLOW",userId:e}},k=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},C=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},I=function(){var e=Object(o.a)(s.a.mark((function e(t,a,n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(C(!0,a)),e.next=3,n(a);case 3:0===e.sent.data.resultCode&&t(r(a)),t(C(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(i.a)({},e,{users:N(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(i.a)({},e,{users:N(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(i.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(i.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(i.a)({},e,{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(i.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(i.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(S.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},A=a(36),L={userId:null,email:null,login:null,isAuth:!1},T=function(e,t,a,n){return{type:"auth/SET_USER_DATA",data:{userId:e,email:t,login:a,isAuth:n}}},U=function(){return function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n,r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,o=n.email,i=n.login,t(T(r,o,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":return Object(i.a)({},e,{},t.data);default:return e}},D=a(134),M=a(132),R={initialized:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(i.a)({},e,{initialized:!0});default:return e}},G=Object(n.c)({profilePage:v,dialoguesPage:_,friendPage:w,usersPage:x,auth:F,form:M.a,app:z}),B=Object(n.e)(G,Object(n.a)(D.a)),J=B;window.store=B;var H=a(0),W=a.n(H),Z=a(64),K=a.n(Z),V=a(22),Q=a(23),q=a(25),X=a(24),Y=a(26),$=(a(257),a(90)),ee=a.n($),te=a(11),ae=function(e){return W.a.createElement("header",{className:ee.a.header},W.a.createElement("img",{src:"https://yt3.ggpht.com/a/AATXAJwjqeBPBlUFN7PkmC6KsliyjFJ9tnva3eaSGxnrlQ=s900-c-k-c0xffffffff-no-rj-mo",alt:""}),W.a.createElement("div",{className:ee.a.loginBlock},e.isAuth?W.a.createElement("div",null," ",e.login," - ",W.a.createElement("button",{onClick:e.logout},"Logout")," "):W.a.createElement(te.b,{to:"/login"},"Login")))},ne=a(9),re=function(e){function t(){return Object(V.a)(this,t),Object(q.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){return W.a.createElement(ae,this.props)}}]),t}(W.a.Component),se=Object(ne.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:0===e.sent.data.resultCode&&t(T(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(re),oe=a(8),ie=a.n(oe),ce=function(){return W.a.createElement("nav",{className:ie.a.navbar},W.a.createElement("span",{className:ie.a.item},W.a.createElement(te.b,{className:ie.a.navLink,activeClassName:ie.a.activeLink,to:"/profile"},"Profile")),W.a.createElement("span",{className:ie.a.item},W.a.createElement(te.b,{className:ie.a.navLink,activeClassName:ie.a.activeLink,to:"/dialogues"},"Messages")),W.a.createElement("div",{className:"".concat(ie.a.item," ").concat(ie.a.itemDisabled)},W.a.createElement(te.b,{className:ie.a.navLink,activeClassName:ie.a.activeLink,to:"/news"},"News")),W.a.createElement("div",{className:"".concat(ie.a.item," ").concat(ie.a.itemDisabled)},W.a.createElement(te.b,{className:ie.a.navLink,activeClassName:ie.a.activeLink,to:"/music"},"Music")),W.a.createElement("div",{className:"".concat(ie.a.item," ").concat(ie.a.itemDisabled)},W.a.createElement(te.b,{className:ie.a.navLink,activeClassName:ie.a.activeLink,to:"/setting"},"Setting")),W.a.createElement("div",{className:"".concat(ie.a.item," ").concat(ie.a.itemDisabled)},W.a.createElement(te.b,{className:ie.a.navLink,activeClassName:ie.a.activeLink,to:"/friends"},"Friends")),W.a.createElement("div",{className:ie.a.item},W.a.createElement(te.b,{className:ie.a.navLink,activeClassName:ie.a.activeLink,to:"/users"},"Users")))},le=a(67),ue=a.n(le),me=a(52),fe=a.n(me),pe=a(70),de=a.n(pe),ge=function(e){return W.a.createElement("div",{className:de.a.item},W.a.createElement("div",{className:de.a.message},W.a.createElement("img",{src:"https://www.freeiconspng.com/uploads/man-icon-png-29.png",alt:""}),W.a.createElement("p",null,e.message)),W.a.createElement("hr",null),W.a.createElement("div",{className:de.a.like},W.a.createElement("span",null,"like ",e.like)))},Ee=a(130),he=a(131),ve=function(e){if(!e)return"Field is required"},be=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},_e=a(98),Oe=a(28),we=a.n(Oe),Se=function(e){e.input;var t=e.meta,a=t.touched,n=t.error,r=e.children,s=a&&n;return W.a.createElement("div",{className:we.a.formControl+" "+(s?we.a.error:"")},W.a.createElement("div",null,r),s&&W.a.createElement("span",null,n))},Ne=function(e){var t=e.input,a=(e.meta,Object(_e.a)(e,["input","meta"]));return W.a.createElement(Se,e,W.a.createElement("textarea",Object.assign({},t,a)))},Pe=function(e){var t=e.input,a=(e.meta,Object(_e.a)(e,["input","meta"]));return W.a.createElement(Se,e,W.a.createElement("input",Object.assign({},t,a)))},je=function(e,t,a,n,r){return W.a.createElement("div",null,W.a.createElement(Ee.a,Object.assign({component:n,validate:a,name:t,placeholder:e},r)))},ye=be(30),ke=Object(he.a)({form:"post"})((function(e){return W.a.createElement("form",{onSubmit:e.handleSubmit,className:fe.a.add_news},W.a.createElement(Ee.a,{validate:[ve,ye],name:"newPost",component:Ne,placeholder:"Your news"}),W.a.createElement("button",null,"Send"))})),Ce=W.a.memo((function(e){console.log("lalalal");var t=e.postData.map((function(e){return W.a.createElement(ge,{message:e.message,like:e.likes,id:e.id,key:e.id})}));return W.a.createElement("div",{className:fe.a.my_posts},W.a.createElement("div",{className:"header_posts"},W.a.createElement("h4",null,"My Posts")),W.a.createElement(ke,{onSubmit:function(t){e.addPost(t.newPost)}}),W.a.createElement("div",{className:fe.a.added_news},t))}));console.log("lalalal23");var Ie=Object(ne.b)((function(e){return{newPostTextChange:e.profilePage.newPostText,postData:e.profilePage.postData}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD_POST",newPost:e}}(t))}}}))(Ce),xe=a(55),Ae=a.n(xe),Le=a(138),Te=a.n(Le),Ue=a(139),Fe=a.n(Ue),De=function(){return W.a.createElement("div",{className:Fe.a.item},W.a.createElement("img",{alt:"loader",src:Te.a}))},Me=a(69),Re=a.n(Me),ze=a(140),Ge=a.n(ze),Be=a(141),Je=a.n(Be),He=a(54),We=function(e){var t=Object(H.useState)(!1),a=Object(He.a)(t,2),n=a[0],r=a[1],s=Object(H.useState)(e.status),o=Object(He.a)(s,2),i=o[0],c=o[1];Object(H.useEffect)((function(){c(e.status)}),[e.status]);return W.a.createElement("div",null,!n&&W.a.createElement("div",null,W.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.status||"-------")),n&&W.a.createElement("div",null,W.a.createElement("input",{onBlur:function(){r(!1),e.updateStatus(i)},onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,value:i})))},Ze=function(e){return e.profile?W.a.createElement("div",{className:Ae.a.profile},W.a.createElement("div",{className:Ae.a.photo},W.a.createElement("img",{src:null!==e.profile.photos.large?e.profile.photos.large:Re.a,alt:""})),W.a.createElement(We,{status:e.status,updateStatus:e.updateStatus}),W.a.createElement("div",{className:Ae.a.info},W.a.createElement("h3",null,"Information"),W.a.createElement("p",null,"Full Name: ",e.profile.fullName),W.a.createElement("p",null,"Facebook: ",e.profile.contacts.facebook),W.a.createElement("p",null,"Job:",e.profile.lookingForAJob?W.a.createElement("img",{src:Ge.a,alt:"\u0415\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0430"}):W.a.createElement("img",{src:Je.a,alt:"\u041d\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u044b"})),W.a.createElement("p",null,e.profile.lookingForAJobDescription),W.a.createElement("p",null,"Status: ",e.profile.aboutMe))):W.a.createElement("div",{className:Ae.a.preloader},W.a.createElement(De,null))},Ke=function(e){return W.a.createElement("div",{className:ue.a.content},W.a.createElement("img",{src:"https://avatars.mds.yandex.net/get-pdb/1516664/09249b5a-9f96-419d-8d26-14d33b095ec2/s1200",alt:""}),W.a.createElement(Ze,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),W.a.createElement(Ie,null))},Ve=a(33),Qe=function(e){return{isAuth:e.auth.isAuth}},qe=function(e){var t=function(t){function a(){return Object(V.a)(this,a),Object(q.a)(this,Object(X.a)(a).apply(this,arguments))}return Object(Y.a)(a,t),Object(Q.a)(a,[{key:"render",value:function(){return this.props.isAuth?W.a.createElement(e,this.props):W.a.createElement(Ve.a,{to:"/login"})}}]),a}(W.a.Component);return Object(ne.b)(Qe)(t)},Xe=function(e){function t(){return Object(V.a)(this,t),Object(q.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return W.a.createElement("div",{className:ue.a.content},W.a.createElement(Ke,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})))}}]),t}(W.a.Component),Ye=Object(n.d)(Object(ne.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(o.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e);case 2:n=t.sent,a({type:"SET_USER_PROFILE",profile:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(o.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:n=t.sent,a(h(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(o.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:0===t.sent.data.resultCode&&a(h(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Ve.f,qe)(Xe),$e=function(){return W.a.createElement("div",null,W.a.createElement("h1",null,"Setting"))},et=function(e){return W.a.createElement("div",null,W.a.createElement("h1",null,"Music"))},tt=function(e){return W.a.createElement("div",null,W.a.createElement("h1",null,"News"))},at=a(43),nt=a.n(at),rt=function(e){var t=e.user,a=e.followingInProgress,n=e.unfollow,r=e.follow;return W.a.createElement("div",{className:nt.a.user},W.a.createElement("div",{className:nt.a.info},W.a.createElement(te.b,{to:"/profile/"+t.id},W.a.createElement("img",{src:null!==t.photos.small?t.photos.small:Re.a,alt:""})),W.a.createElement("div",null,W.a.createElement("span",null,W.a.createElement("div",null,W.a.createElement("div",null,t.name),W.a.createElement("div",null,"user.surname")),W.a.createElement("div",null,t.status)),W.a.createElement("span",null,W.a.createElement("div",null,"user.location.city"),W.a.createElement("div",null,"user.location.country")))),W.a.createElement("div",{className:nt.a.buttons},t.followed?W.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){n(t.id)}},"Unollow"):W.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Follow")))},st=function(e){return W.a.createElement("div",{className:nt.a.item},e.users.map((function(t){return W.a.createElement(rt,{user:t,key:t.id,follow:e.follow,unfollow:e.unfollow,followingInProgress:e.followingInProgress})})))},ot=a(66),it=a(44),ct=a.n(it),lt=a(142),ut=a.n(lt),mt=function(e){for(var t=e.totalItemsCount,a=e.pageSize,n=e.currentPage,r=e.onPageChange,s=e.portionSize,o=void 0===s?10:s,i=Math.ceil(t/a),c=[],l=1;l<=i;l++)c.push(l);var u=Math.ceil(i/o),m=Object(H.useState)(1),f=Object(He.a)(m,2),p=f[0],d=f[1],g=(p-1)*o+1,E=p*o;return W.a.createElement("div",{className:ct.a.paginator},p>1&&W.a.createElement("button",{className:ct.a.button,onClick:function(){d(p-1)}},"prev"),c.filter((function(e){return e>=g&&e<=E})).map((function(e){return W.a.createElement("span",{className:ut()(Object(ot.a)({},ct.a.selectedPage,n===e),ct.a.pageNumber),key:e,onClick:function(t){r(e)}},e)})),u>p&&W.a.createElement("button",{className:ct.a.button,onClick:function(){d(p+1)}},"next"))},ft=a(143),pt=Object(ft.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),dt=function(e){return e.usersPage.pageSize},gt=function(e){return e.usersPage.totalUsersCount},Et=function(e){return e.usersPage.currentPage},ht=function(e){return e.usersPage.followingInProgress},vt=function(e){return e.usersPage.isFetching},bt=function(e){function t(){var e,a;Object(V.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(q.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){var t=a.props,n=t.pageSize,r=t.getUsers,s=t.setCurrentPage;r(e,n),s(e)},a}return Object(Y.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,a=e.pageSize;this.props.getUsers(t,a)}},{key:"render",value:function(){return W.a.createElement(W.a.Fragment,null,W.a.createElement(mt,{totalItemsCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChange:this.onPageChanged}),this.props.isFetching?W.a.createElement(De,null):W.a.createElement(st,{totalUsersCount:this.props.totalUsersCount,onPageChanged:this.onPageChanged,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),t}(W.a.Component),_t=Object(n.d)(qe,Object(ne.b)((function(e){return{users:pt(e),pageSize:dt(e),totalUsersCount:gt(e),currentPage:Et(e),followingInProgress:ht(e),isFetching:vt(e)}}),{follow:function(e){return function(){var t=Object(o.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I(a,e,l.follow.bind(l),j);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(o.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I(a,e,l.unfollow.bind(l),y);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},getUsers:function(e,t){return function(){var a=Object(o.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(k(!0)),a.next=3,l.getUsers(e,t);case 3:r=a.sent,n(k(!1)),n({type:"SET_USERS",users:r.items}),n({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:r.totalCount});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}))(bt),Ot=a(144),wt=a.n(Ot),St=a(145),Nt=a.n(St),Pt=a(95),jt=a.n(Pt),yt=function(e){return W.a.createElement("div",{className:jt.a.item},W.a.createElement(te.b,{activeClassName:jt.a.active,to:"/dialogues/"+e.id},W.a.createElement("img",{src:"https://redcdn.net/topicit/images/no-avatar-1.png",alt:""}),e.name))},kt=function(e){var t=e.userArr.map((function(e){return W.a.createElement(yt,{name:e.name,id:e.id,key:e.id})}));return W.a.createElement("div",{className:Nt.a.dialogue_item},t)},Ct=a(96),It=a.n(Ct),xt=a(72),At=a.n(xt),Lt=function(e){return W.a.createElement("div",{className:At.a.item},W.a.createElement("div",{className:At.a.name_photo},W.a.createElement("img",{src:"https://redcdn.net/topicit/images/no-avatar-1.png",alt:""}),W.a.createElement("p",null,e.name)),W.a.createElement("div",{className:At.a.message},W.a.createElement("p",null,e.message)))},Tt=a(146),Ut=a.n(Tt),Ft=be(100),Dt=Object(he.a)({form:"message"})((function(e){var t=e.newMessageText;return W.a.createElement("form",{onSubmit:e.handleSubmit,className:Ut.a.item},W.a.createElement(Ee.a,{name:"newMessage",validate:[ve,Ft],component:Ne,value:t,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),W.a.createElement("button",null,"Send"))})),Mt=Object(ne.b)((function(e){return{newMessageText:e.dialoguesPage.newMessageText}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND-MESSAGE",newMessage:e}}(t))}}}))((function(e){return W.a.createElement(Dt,{onSubmit:function(t){e.sendMessage(t.newMessage)}})})),Rt=function(e){var t=e.messageArr.map((function(e){return W.a.createElement(Lt,{name:"Nastya",message:e.message,id:e.id,key:e.id})}));return W.a.createElement("div",{className:It.a.item},W.a.createElement("div",{className:It.a.messages},t),W.a.createElement(Mt,null))},zt=function(e){if(!e.isAuth)return W.a.createElement(Ve.a,{to:"/login"});var t=e.dialoguesPage,a=t.userArr,n=t.messageArr;return W.a.createElement("div",{className:wt.a.dialogues_content},W.a.createElement(kt,{userArr:a}),W.a.createElement(Rt,{messageArr:n}))},Gt=Object(n.d)(Object(ne.b)((function(e){return{dialoguesPage:e.dialoguesPage}})),qe)(zt),Bt=be(20),Jt=Object(he.a)({form:"login"})((function(e){return W.a.createElement("form",{className:we.a.form_item,onSubmit:e.handleSubmit},je("Email","email",[ve,Bt],Pe),je("Password","password",[ve],Pe,{type:"password"}),W.a.createElement("div",{className:we.a.remember},W.a.createElement("div",{className:we.a.rememberLable},W.a.createElement("label",{htmlFor:"rememberMe"},"remember me ")),W.a.createElement("div",{className:we.a.checkbox},je(null,"rememberMe",null,Pe,{type:"checkbox"}))),e.error&&W.a.createElement("div",{className:we.a.formSummaryError},e.error),W.a.createElement("div",null,W.a.createElement("button",null,"Login")))})),Ht=a(97),Wt=a.n(Ht),Zt=function(e){var t=e.login;return e.isAuth?W.a.createElement(Ve.a,{to:"/profile"}):W.a.createElement("div",{className:Wt.a.item},W.a.createElement("div",{className:Wt.a.form},W.a.createElement("h3",null,"Login"),W.a.createElement(Jt,{onSubmit:function(e){t(e.email,e.password,e.rememberMe)}})))},Kt=Object(ne.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,a){return function(){var n=Object(o.a)(s.a.mark((function n(r){var o,i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d(e,t,a);case 2:0===(o=n.sent).data.resultCode?r(U()):(i=o.data.messages.length>0?o.data.messages[0]:"Some error",r(Object(A.a)("login",{_error:i})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.isAuth,a=e.login;return W.a.createElement(Zt,{isAuth:t,login:a})})),Vt=function(e){function t(){return Object(V.a)(this,t),Object(q.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?W.a.createElement("div",{className:"app-wrapper"},W.a.createElement(se,null),W.a.createElement(ce,null),W.a.createElement("div",{className:"app-wrapper-content"},W.a.createElement(Ve.b,{path:"/",render:function(){return W.a.createElement(Ve.a,{to:"/login"})}}),W.a.createElement(Ve.b,{path:"/profile/:userId?",render:function(){return W.a.createElement(Ye,null)}}),W.a.createElement(Ve.b,{path:"/dialogues",render:function(){return W.a.createElement(Gt,null)}}),W.a.createElement(Ve.b,{path:"/music",render:function(){return W.a.createElement(et,null)}}),W.a.createElement(Ve.b,{path:"/news",render:function(){return W.a.createElement(tt,null)}}),W.a.createElement(Ve.b,{path:"/setting",render:function(){return W.a.createElement($e,null)}}),W.a.createElement(Ve.b,{path:"/users",render:function(){return W.a.createElement(_t,null)}}),W.a.createElement(Ve.b,{path:"/login",render:function(){return W.a.createElement(Kt,null)}}))):W.a.createElement(De,null)}}]),t}(W.a.Component),Qt=Object(n.d)(Ve.f,Object(ne.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(U());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(Vt);K.a.render(W.a.createElement(te.a,null,W.a.createElement(ne.a,{store:J},W.a.createElement(Qt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},43:function(e,t,a){e.exports={item:"Users_item__3kEc8",selectedPage:"Users_selectedPage__EDVV3",user:"Users_user__K7ZgD",info:"Users_info__2aAeb"}},44:function(e,t,a){e.exports={paginator:"Paginator_paginator__N5JHp",pageNumber:"Paginator_pageNumber__1Z0_N",selectedPage:"Paginator_selectedPage__4e46b",button:"Paginator_button__6n5Qv"}},52:function(e,t,a){e.exports={my_posts:"MyPosts_my_posts__2RunZ",add_news:"MyPosts_add_news__2gZv9"}},55:function(e,t,a){e.exports={profile:"ProfileInfo_profile__10svT",info:"ProfileInfo_info__3U8dc"}},67:function(e,t,a){e.exports={content:"Profile_content__bR3gc"}},69:function(e,t,a){e.exports=a.p+"static/media/user-avatar.09001408.png"},70:function(e,t,a){e.exports={item:"Post_item__1MTGV",message:"Post_message__3Ix7v",like:"Post_like__18q8w"}},72:function(e,t,a){e.exports={item:"Message_item__2ezuA",name_photo:"Message_name_photo__1RqyE",message:"Message_message__1OzXO"}},8:function(e,t,a){e.exports={navbar:"Navbar_navbar__4J0zQ",item:"Navbar_item__EaxNm",itemDisabled:"Navbar_itemDisabled__3OlD9",activeLink:"Navbar_activeLink__1hzQr",navLink:"Navbar_navLink__1Cztt"}},90:function(e,t,a){e.exports={header:"Header_header__3yZoK",loginBlock:"Header_loginBlock__3gRxx"}},95:function(e,t,a){e.exports={dialogue_item:"DialogueItem_dialogue_item__BsJ3a",item:"DialogueItem_item__Fk3of",active:"DialogueItem_active__20Cdy"}},96:function(e,t,a){e.exports={item:"PrivateDialogues_item__2Iir5",messages:"PrivateDialogues_messages__RK4uv"}},97:function(e,t,a){e.exports={item:"Login_item__AUJW1",form:"Login_form__1a6iE"}},99:function(e,t,a){}},[[173,1,2]]]);
//# sourceMappingURL=main.6611a8d2.chunk.js.map